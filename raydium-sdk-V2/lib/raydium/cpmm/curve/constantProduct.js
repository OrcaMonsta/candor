var A=Object.create;var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty;var x=(o,t)=>{for(var e in t)B(o,e,{get:t[e],enumerable:!0})},c=(o,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of g(t))!E.call(o,n)&&n!==e&&B(o,n,{get:()=>t[n],enumerable:!(r=F(t,n))||r.enumerable});return o};var l=(o,t,e)=>(e=o!=null?A(R(o)):{},c(t||!o||!o.__esModule?B(e,"default",{value:o,enumerable:!0}):e,o)),h=o=>c(B({},"__esModule",{value:!0}),o);var v={};x(v,{ConstantProductCurve:()=>d});module.exports=h(v);var a=l(require("bn.js"));var S=l(require("bn.js")),Z=new S.default(1e6);function p(o,t){if(t.isZero())throw Error("divisor is zero");return o.mod(t)}function k(o,t){if(t.isZero())throw Error("rhs is zero");let e=o.div(t);if(e.isZero())throw Error("quotient is zero");let r=p(o,t);return r.gt(u)&&(e=e.add(new a.default(1)),t=o.div(e),r=p(o,e),r.gt(u)&&(t=t.add(new a.default(1)))),[e,t]}var u=new a.default(0),d=class{static swapWithoutFees(t,e,r){let n=e.mul(r),N=e.add(t),[i,s]=k(n,N),w=s.sub(e),m=r.sub(i);if(m.isZero())throw Error("destinationAmountSwapped is zero");return{sourceAmountSwapped:w,destinationAmountSwapped:m}}static lpTokensToTradingTokens(t,e,r,n,N){let i=t.mul(r).div(e),s=t.mul(n).div(e);if(N===0)return{tokenAmount0:i,tokenAmount1:s};if(N===1)return p(t.mul(r),e).gt(u)&&i.gt(u)&&(i=i.add(new a.default(1))),p(t.mul(n),e).gt(u)&&s.gt(u)&&(s=s.add(new a.default(1))),{tokenAmount0:i,tokenAmount1:s};throw Error("roundDirection value error")}};0&&(module.exports={ConstantProductCurve});
//# sourceMappingURL=constantProduct.js.map